{"version":3,"file":"commonHelpers.js","sources":["../src/img/icon.svg","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__65a791c1__\"","export function fetchPhotos(getValue) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"42554621-2fa4a31fb360b145b3c1613f4\";\n\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: getValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n});\n    const LINK = `${BASE_URL}?${searchParams}`;\n\n    return fetch(LINK)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n            return response.json()\n        })\n}","export function renderPhotos(array) {\n    return array\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n            return `<li class=\"gallery-item\">\n                     <a href=\"${largeImageURL}\">\n                        <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n                        <div class=\"info-box\">\n                           <p class=\"info\"><b>Likes</b> ${likes}</p>\n                           <p class=\"info\"><b>Views</b> ${views}</p>\n                           <p class=\"info\"><b>Comments</b> ${comments}</p>\n                           <p class=\"info\"><b>Downloads</b> ${downloads}</p>\n                     </div>\n                    </a>\n                   </li>`;\n        })\n        .join(\"\");\n}","'use strict';\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport axios from \"axios\";\n\nimport icon from \"./img/icon.svg\";\n\nimport { fetchPhotos } from './js/pixabay-api.js';\nimport { renderPhotos } from './js/render-functions.js';\n\nconst searchForm = document.querySelector(\"form\");\nconst gallery = document.querySelector(\"ul.gallery\");\nconst loading = document.querySelector(\"span.loader\");\n\nloading.classList.remove(\"loader\");\n\nfunction handleSearchSubmit(event) {\n    event.preventDefault(); \n    gallery.innerHTML = \"\";\n    const getValue = event.currentTarget.elements.search.value.trim();\n\n    if (getValue !== \"\") {\n        loading.classList.add(\"loader\");\n        fetchPhotos(getValue)\n            .then(data => {\n                loading.classList.remove(\"loader\");\n                if (data.hits.length !== 0) {\n                    gallery.innerHTML = renderPhotos(data.hits);\n                    const lightbox = new SimpleLightbox(\".gallery a\", {\n                        captionsData: \"alt\",\n                        captionDelay: 100,\n                    });\n                    lightbox.refresh();\n                } else {\n                    iziToast.show({\n                        iconUrl: icon,\n                        message: `Sorry, there are no images matching your search query. Please try again!`,\n                        messageColor: \"#FFFFFF\",\n                        color: \"#FF6868\",\n                        position: \"topRight\",\n                        progressBarColor: \"#FFFFFF\",\n                        close: false,\n                        timeout: 3000\n                    })\n                }\n            })\n            .catch(error => {\n                iziToast.show({\n                    iconUrl: icon,\n                    message: `Sorry, there was an unexpected issue running your request!`,\n                    messageColor: \"#FFFFFF\",\n                    color: \"#FF6868\",\n                    position: \"topRight\",\n                    progressBarColor: \"#FFFFFF\",\n                    close: false,\n                    timeout: 3000\n                });\n                console.error(error);\n            });\n        \n    };\nsearchForm.reset();\n}\n\nsearchForm.addEventListener(\"submit\", handleSearchSubmit);"],"names":["icon","fetchPhotos","getValue","BASE_URL","API_KEY","searchParams","LINK","response","renderPhotos","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","gallery","loading","handleSearchSubmit","event","data","SimpleLightbox","iziToast","error"],"mappings":"6vBAAA,MAAeA,EAAA,0CCAR,SAASC,EAAYC,EAAU,CAClC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACrC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAC,EACSI,EAAO,GAAGH,CAAQ,IAAIE,CAAY,GAExC,OAAO,MAAMC,CAAI,EACZ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,CACT,CCpBO,SAASC,EAAaC,EAAO,CAChC,OAAOA,EACF,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACxD;AAAA,gCACaL,CAAa;AAAA,oCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,0DAEJC,CAAK;AAAA,0DACLC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA;AAAA,yBAI9D,EACA,KAAK,EAAE,CAChB,CCDA,MAAMC,EAAa,SAAS,cAAc,MAAM,EAC1CC,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAU,SAAS,cAAc,aAAa,EAEpDA,EAAQ,UAAU,OAAO,QAAQ,EAEjC,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpB,MAAMhB,EAAWmB,EAAM,cAAc,SAAS,OAAO,MAAM,OAEvDnB,IAAa,KACbiB,EAAQ,UAAU,IAAI,QAAQ,EAC9BlB,EAAYC,CAAQ,EACf,KAAKoB,GAAQ,CACVH,EAAQ,UAAU,OAAO,QAAQ,EAC7BG,EAAK,KAAK,SAAW,GACrBJ,EAAQ,UAAYV,EAAac,EAAK,IAAI,EACzB,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtC,CAAqB,EACQ,QAAO,GAEhBC,EAAS,KAAK,CACV,QAASxB,EACT,QAAS,2EACT,aAAc,UACd,MAAO,UACP,SAAU,WACV,iBAAkB,UAClB,MAAO,GACP,QAAS,GACjC,CAAqB,CAErB,CAAa,EACA,MAAMyB,GAAS,CACZD,EAAS,KAAK,CACV,QAASxB,EACT,QAAS,6DACT,aAAc,UACd,MAAO,UACP,SAAU,WACV,iBAAkB,UAClB,MAAO,GACP,QAAS,GAC7B,CAAiB,EACD,QAAQ,MAAMyB,CAAK,CACnC,CAAa,GAGbR,EAAW,MAAK,CAChB,CAEAA,EAAW,iBAAiB,SAAUG,CAAkB"}